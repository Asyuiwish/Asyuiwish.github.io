<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS/JQ | Yui的学习笔记</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/daydayup/lemon.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/daydayup/assets/css/0.styles.b0cdb98c.css" as="style"><link rel="preload" href="/daydayup/assets/js/app.0af44880.js" as="script"><link rel="preload" href="/daydayup/assets/js/2.64dcb2fe.js" as="script"><link rel="preload" href="/daydayup/assets/js/1.aa6d85d5.js" as="script"><link rel="preload" href="/daydayup/assets/js/16.46fd8142.js" as="script"><link rel="prefetch" href="/daydayup/assets/js/10.305df25d.js"><link rel="prefetch" href="/daydayup/assets/js/11.6bfc2bbd.js"><link rel="prefetch" href="/daydayup/assets/js/12.f96e0c4f.js"><link rel="prefetch" href="/daydayup/assets/js/13.bce1f61f.js"><link rel="prefetch" href="/daydayup/assets/js/14.5ff908ae.js"><link rel="prefetch" href="/daydayup/assets/js/15.34834193.js"><link rel="prefetch" href="/daydayup/assets/js/17.48b10c0a.js"><link rel="prefetch" href="/daydayup/assets/js/18.e9495ced.js"><link rel="prefetch" href="/daydayup/assets/js/19.bd01e132.js"><link rel="prefetch" href="/daydayup/assets/js/20.e3c1893e.js"><link rel="prefetch" href="/daydayup/assets/js/21.2141bfe7.js"><link rel="prefetch" href="/daydayup/assets/js/22.2493a97c.js"><link rel="prefetch" href="/daydayup/assets/js/23.7f3cc079.js"><link rel="prefetch" href="/daydayup/assets/js/24.fbb09ec2.js"><link rel="prefetch" href="/daydayup/assets/js/25.86bcb1f2.js"><link rel="prefetch" href="/daydayup/assets/js/26.7e194db7.js"><link rel="prefetch" href="/daydayup/assets/js/27.815721ee.js"><link rel="prefetch" href="/daydayup/assets/js/28.3dbac704.js"><link rel="prefetch" href="/daydayup/assets/js/29.0e8cd7ea.js"><link rel="prefetch" href="/daydayup/assets/js/3.65303138.js"><link rel="prefetch" href="/daydayup/assets/js/30.92eb5aff.js"><link rel="prefetch" href="/daydayup/assets/js/31.4e1f2139.js"><link rel="prefetch" href="/daydayup/assets/js/32.071912b3.js"><link rel="prefetch" href="/daydayup/assets/js/33.da4c49c6.js"><link rel="prefetch" href="/daydayup/assets/js/34.05d24339.js"><link rel="prefetch" href="/daydayup/assets/js/35.7a8b3b5e.js"><link rel="prefetch" href="/daydayup/assets/js/36.bea776bd.js"><link rel="prefetch" href="/daydayup/assets/js/37.da7c625b.js"><link rel="prefetch" href="/daydayup/assets/js/38.328527f3.js"><link rel="prefetch" href="/daydayup/assets/js/39.fa3396a1.js"><link rel="prefetch" href="/daydayup/assets/js/4.5865b529.js"><link rel="prefetch" href="/daydayup/assets/js/5.0f806300.js"><link rel="prefetch" href="/daydayup/assets/js/6.ecfc47ec.js"><link rel="prefetch" href="/daydayup/assets/js/7.a22605c4.js"><link rel="prefetch" href="/daydayup/assets/js/vendors~docsearch.80423ce8.js">
    <link rel="stylesheet" href="/daydayup/assets/css/0.styles.b0cdb98c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/daydayup/" class="home-link router-link-active"><img src="/daydayup/flag.png" alt="Yui的学习笔记" class="logo"> <span class="site-name can-hide">Yui的学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/daydayup/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/daydayup/audition/" class="nav-link router-link-active">
  细细碎碎的知识点
</a></div><div class="nav-item"><a href="/daydayup/question/" class="nav-link">
  踩坑辣写bug辣
</a></div><div class="nav-item"><a href="/daydayup/function/" class="nav-link">
  常用方法实例
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发ing" class="dropdown-title"><span class="title">开发ing</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发ing" class="mobile-dropdown-title"><span class="title">开发ing</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/daydayup/function/" class="nav-link">
  没写完
</a></li><li class="dropdown-item"><!----> <a href="/daydayup/question/" class="nav-link">
  真的没写完
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Asyuiwish" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/daydayup/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/daydayup/audition/" class="nav-link router-link-active">
  细细碎碎的知识点
</a></div><div class="nav-item"><a href="/daydayup/question/" class="nav-link">
  踩坑辣写bug辣
</a></div><div class="nav-item"><a href="/daydayup/function/" class="nav-link">
  常用方法实例
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发ing" class="dropdown-title"><span class="title">开发ing</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发ing" class="mobile-dropdown-title"><span class="title">开发ing</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/daydayup/function/" class="nav-link">
  没写完
</a></li><li class="dropdown-item"><!----> <a href="/daydayup/question/" class="nav-link">
  真的没写完
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Asyuiwish" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/daydayup/audition/" aria-current="page" class="sidebar-link">Hello VuePress!</a></li><li><a href="/daydayup/audition/browser.html" class="sidebar-link">浏览器</a></li><li><a href="/daydayup/audition/css.html" class="sidebar-link">CSS</a></li><li><a href="/daydayup/audition/javascript.html" aria-current="page" class="active sidebar-link">JS/JQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#基本数据类型" class="sidebar-link">基本数据类型</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#强制类型转换" class="sidebar-link">强制类型转换</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#原型和原型链-显式原型-隐式原型" class="sidebar-link">原型和原型链（显式原型/隐式原型）</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#判断是否为空对象方法" class="sidebar-link">判断是否为空对象方法</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#深拷贝和浅拷贝" class="sidebar-link">深拷贝和浅拷贝</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#宏任务和微任务" class="sidebar-link">宏任务和微任务</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#事件代理" class="sidebar-link">事件代理</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#防抖和节流" class="sidebar-link">防抖和节流</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#settimeout-与setinterval" class="sidebar-link">setTimeout()与setInterval()</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#异步" class="sidebar-link">异步</a></li><li class="sidebar-sub-header"><a href="/daydayup/audition/javascript.html#js作用域" class="sidebar-link">JS作用域</a></li></ul></li><li><a href="/daydayup/audition/ES6.html" class="sidebar-link">ES6</a></li><li><a href="/daydayup/audition/vue.html" class="sidebar-link">VUE</a></li><li><a href="/daydayup/audition/js-func.html" class="sidebar-link">Js常用函数</a></li><li><a href="/daydayup/audition/jq-func.html" class="sidebar-link">Jq常用函数</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js-jq"><a href="#js-jq" class="header-anchor">#</a> JS/JQ</h1> <h2 id="基本数据类型"><a href="#基本数据类型" class="header-anchor">#</a> 基本数据类型</h2> <p><img src="/daydayup/assets/img/js_1.70f44a84.png" alt="六大基本数据类型"></p> <h2 id="强制类型转换"><a href="#强制类型转换" class="header-anchor">#</a> 强制类型转换</h2> <ol><li>字符串拼接<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'2'</span> <span class="token operator">+</span> <span class="token boolean">true</span>  <span class="token comment">//2true</span>
</code></pre></div></li> <li>==运算（慎用） <code>除了 == null 其他都用 ===</code></li> <li>逻辑运算<div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">&amp;&amp;</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">// 0  10为true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' '</span> <span class="token operator">||</span> <span class="token string">'abc'</span><span class="token punctuation">)</span>  <span class="token comment">// 'abc '   ' '为false</span>
</code></pre></div></li> <li>if语句<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">100</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// true</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token string">''</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>a<span class="token punctuation">)</span>  <span class="token comment">// 判断一个变量是true/false</span>
</code></pre></div></li></ol> <h2 id="原型和原型链-显式原型-隐式原型"><a href="#原型和原型链-显式原型-隐式原型" class="header-anchor">#</a> 原型和原型链（显式原型/隐式原型）</h2> <ul><li>所有引用类型（函数，数组，对象）都拥有__proto__属性（隐式原型）</li> <li>所有函数拥有prototype属性（显式原型）（仅限函数）</li> <li>原型对象：拥有prototype属性的对象，在定义函数时就被创建</li></ul> <p><b>实例w的隐式原型指向它构造函数的显式原型，指向的意思是恒等于</b></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>w<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Word</span><span class="token punctuation">.</span>prototype
</code></pre></div><p>构造函数的原型链：<code>tsrot ==》 Person.prototype ==》 Object.prototype ==》 null</code></p> <p><img src="/daydayup/assets/img/js_3.5d9f8207.png" alt="原型"></p> <h2 id="判断是否为空对象方法"><a href="#判断是否为空对象方法" class="header-anchor">#</a> 判断是否为空对象方法</h2> <ul><li>将json对象转化为json字符串，再判断该字符串是否为&quot;{}&quot;<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;{}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div></li> <li>for in循环判断<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

</code></pre></div></li> <li>jquery的isEmptyObject方法(将方法二封装)<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">isEmptyObject</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div></li> <li>Object对象的getOwnPropertyNames方法，返回值是对象中属性名组成的数组，通过判断数组的length来判断此对象是否为空（此方法不兼容ie8，其余浏览器没有测试）<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div></li> <li>ES6的Object.keys()方法，原理同方法四<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div></li></ul> <h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2> <p>概念:<code>指有权访问另一个函数作用域中的变量的函数，一般情况就是在一个函数中包含另一个函数</code>。</p> <p>作用：访问函数内部变量、保持函数在环境中一直存在，不会被垃圾回收机制处理。</p> <p><b>如果里函数引用（or访问）了外函数的某个变量，那这个变量就能享受和全局变量一样的特权。</b></p> <h3 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h3> <ol><li>setTimeout
原生的setTimeout传递的第一个函数不能带参数，通过闭包可以实现传参效果。<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> f2<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">var</span> fun <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">setTimeout</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一秒之后打印出1</span>
</code></pre></div></li> <li>回调<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">changeSize</span><span class="token punctuation">(</span><span class="token parameter">size</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> size <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">var</span> size12 <span class="token operator">=</span> <span class="token function">changeSize</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> size14 <span class="token operator">=</span> <span class="token function">changeSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> size16 <span class="token operator">=</span> <span class="token function">changeSize</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'size-12'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> size12<span class="token punctuation">;</span>
 document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'size-20'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> size14<span class="token punctuation">;</span>
 document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'size-30'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> size16<span class="token punctuation">;</span>
</code></pre></div></li> <li>函数防抖<br>
在事件被触发n秒后再执行回调，如果在这n秒内又被触发，则重新计时。<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>delay</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token comment">//借助闭包</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token comment">//进入该分支语句，说明当前正在一个计时过程中，并且又触发了相同事件。所以要取消当前的计时，重新开始计时</span>
            timer <span class="token operator">=</span> <span class="token function">setTimeOut</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span>delay<span class="token punctuation">)</span>
         <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
             timer <span class="token operator">=</span> <span class="token function">setTimeOut</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span>delay<span class="token punctuation">)</span> <span class="token comment">// 进入该分支说明当前并没有在计时，那么就开始一个计时</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre></div></li> <li>封装私有变量</li></ol> <h3 id="优点和缺点"><a href="#优点和缺点" class="header-anchor">#</a> 优点和缺点</h3> <p>闭包的优点：</p> <ul><li>方便调用上下文中声明的局部变量。</li> <li>可以在一个函数中再创建个函数，避免了传参的问题  。</li></ul> <p>闭包的缺点：</p> <ul><li>使用闭包可以使函数在执行完后不被销毁，保留在内存。
中，如果大量使用闭包就会造成<code>内存泄露，内存消耗很大</code>。</li></ul> <h2 id="深拷贝和浅拷贝"><a href="#深拷贝和浅拷贝" class="header-anchor">#</a> 深拷贝和浅拷贝</h2> <p>浅拷贝的实现方法：</p> <ol><li>简单的引用复制</li> <li>Object.assign()<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">f</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">g</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f <span class="token operator">===</span> x<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// true</span>
</code></pre></div></li> <li>Array的slice和concat方法(<code>看起来像是深拷贝。而实际上它是浅拷贝</code>)</li></ol> <p>深拷贝的实现方法：</p> <ol><li><p>JSON对象的parse和stringify
parse方法:将JSON字符串反序列化成JS对象；
stringify方法：将JS对象序列化成JSON字符。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>    <span class="token comment">//例1</span>
    <span class="token keyword">var</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;source&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">child</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;child&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> 
    <span class="token keyword">var</span> target <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    target<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;target&quot;</span><span class="token punctuation">;</span>  <span class="token comment">//改变target的name属性</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//source </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//target</span>
    target<span class="token punctuation">.</span>child<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;target child&quot;</span><span class="token punctuation">;</span> <span class="token comment">//改变target的child </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span>child<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//child </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>child<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//target child</span>
    <span class="token comment">//例2</span>
    <span class="token keyword">var</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function-variable function">name</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">child</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;child&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> 
    <span class="token keyword">var</span> target <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
    <span class="token comment">//例3</span>
    <span class="token keyword">var</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function-variable function">name</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">child</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Object {}</span>
</code></pre></div></li> <li><p>jQuery.extend()</p></li> <li><p>手写递归</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepClone1</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//判断拷贝的要进行深拷贝的是数组还是对象，是数组的话进行数组拷贝，对象的话进行对象拷贝</span>
    <span class="token keyword">var</span> objClone <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//进行深拷贝的不能为空，并且是对象或者是数组</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    objClone<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone1</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    objClone<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> objClone<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <p><b>区别：浅拷贝只复制指针，深拷贝会另外创造一个一模一样的对象。</b></p> <h2 id="宏任务和微任务"><a href="#宏任务和微任务" class="header-anchor">#</a> 宏任务和微任务</h2> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">宏任务（macrotask）</th> <th style="text-align:center;">微任务（microtask）</th></tr></thead> <tbody><tr><td style="text-align:center;">谁发起的</td> <td style="text-align:center;">宿主（Node、浏览器）</td> <td style="text-align:center;">JS引擎</td></tr> <tr><td style="text-align:center;">具体事件</td> <td style="text-align:center;">script/setTimeout/setInterval/<br>UI rendering/UI事件/<br>postMessage，MessageChannel/<br>setImmediate，I/O（Node.js）</td> <td style="text-align:center;">Promise/MutaionObserver/<br>process.nextTick（Node.js）</td></tr> <tr><td style="text-align:center;">谁先运行</td> <td style="text-align:center;">后运行</td> <td style="text-align:center;">先运行</td></tr> <tr><td style="text-align:center;">会触发新一轮Tick吗</td> <td style="text-align:center;">会</td> <td style="text-align:center;">不会</td></tr></tbody></table> <br> <p><img src="/daydayup/assets/img/js_2.d437562d.jpg" alt="宏任务和微任务"></p> <p><b>区别：宏任务中的事件放在callback queue中，由事件触发线程维护；微任务的事件放在微任务队列中，由js引擎线程维护。</b></p> <h2 id="事件代理"><a href="#事件代理" class="header-anchor">#</a> 事件代理</h2> <p>概念：把原本需要绑定在子元素的响应事件（click、keydown......）委托给父元素，让父元素担当事件监听的职务。<br>
原理：DOM元素的事件冒泡。<br>
优点：减少事件注册，减少内存占用；可以动态绑定事件。</p> <p>实现方法：</p> <ol><li><code>switch case</code></li> <li><code>$(selector).delegate(childSelector, event, data, function)</code></li></ol> <h2 id="防抖和节流"><a href="#防抖和节流" class="header-anchor">#</a> 防抖和节流</h2> <p><b>防抖</b>：触发高频事件后n秒内函数只会执行一次，如果n秒内高频事件再次被触发，则重新计算时间。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//每次触发事件时设置一个延迟调用方法，并且取消之前的延时调用方法</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个标记用来存放定时器的返回值</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> 
        <span class="token punctuation">}</span>
        <span class="token comment">// 然后又创建一个新的 setTimeout, 这样就能保证interval 间隔内如果时间持续触发，就不会执行 fn 函数</span>
        timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><b>节流</b>：高频事件触发，但在n秒内只会执行一次，所以节流会稀释函数的执行频率。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//每次触发事件时，如果当前有等待执行的延时函数，则直接return</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> canRun <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 通过闭包保存一个标记</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// 在函数开头判断标记是否为true，不为true则return</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canRun<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
         <span class="token comment">// 立即设置为false</span>
        canRun <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token comment">// 将外部传入的函数的执行放在setTimeout中</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
        <span class="token comment">// 最后在setTimeout执行完毕后再把标记设置为true(关键)表示可以执行下一次循环了。</span>
        <span class="token comment">// 当定时器没有执行的时候标记永远是false，在开头被return掉</span>
            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
            canRun <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><b>区别：防抖动是将多次执行变为最后一次执行，节流是将多次执行变成每隔一段时间执行</b></p> <h2 id="settimeout-与setinterval"><a href="#settimeout-与setinterval" class="header-anchor">#</a> setTimeout()与setInterval()</h2> <h3 id="settimeout-超时调用"><a href="#settimeout-超时调用" class="header-anchor">#</a> setTimeout()超时调用</h3> <p>接受两个参数：要执行的代码和以毫秒表示的时间（代码执行前的等待时间）。其中，第一个参数可以是一个字符串（和eval()中使用的字符串一样），也可以是一个函数。第二个参数是一个表示等待多长时间的毫秒数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">&quot;alert('hello')&quot;</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>  <span class="token comment">//不推荐使用字符串</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>调用setTimeout()之后，该方法会返回一个数值ID，表示超时调用。这个超时调用ID是计划执行代码的唯一标识符，可以通过它来取消超时调用。取消超时调用使用方法clearTimeout();</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> timeId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="setinterval-间歇调用"><a href="#setinterval-间歇调用" class="header-anchor">#</a> setInterval()间歇调用</h3> <p>按照指定的时间间隔重复执行代码，直至间歇调用被取消或页面被卸载。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>max <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>intervalId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">incrementNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    num <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">==</span> max<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">clearInterval</span><span class="token punctuation">(</span>intervalId<span class="token punctuation">)</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
intervalId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>incrementNumber<span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>但是通常情况下，很少真正使用间歇调用，因为后一个间歇调用可能在前一个间歇调用结束之前调用。因此，我们通常会使用超时调用来模拟间歇调用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>max <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">incrementNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    num <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">&lt;</span> max<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>incrementNumber<span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>incrementNumber<span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="执行队列问题"><a href="#执行队列问题" class="header-anchor">#</a> 执行队列问题</h3> <p>setTimeout并不一定是在到了指定时间的时候就把事件推到任务队列中，只有当在任务队列中的上一个setTimeout事件被主线程执行后，才会继续再次在到了指定时间的时候把事件推到任务队列，那么setTimeout的事件执行肯定比指定的时间要久，具体相差多少跟代码执行时间有关<br>
setInterval则是每次都精确的隔一段时间就向任务队列推入一个事件，无论上一个setInterval事件是否已经执行，所以有可能存在setInterval的事件任务累积，导致setInterval的代码重复连续执行多次，影响页面性能。</p> <h3 id="this的指向问题"><a href="#this的指向问题" class="header-anchor">#</a> this的指向问题</h3> <p>由setTimeout()调用的代码运行在与所在函数完全分离的执行环境上。这会导致，这些代码中包含的 this 关键字在非严格模式会指向 window (或全局)对象</p> <h3 id="settimeout间隔设置为0的意义"><a href="#settimeout间隔设置为0的意义" class="header-anchor">#</a> setTimeout间隔设置为0的意义</h3> <p><code>setTimeout(fn,0)</code>的含义是，指定某个任务在主线程最早可得的空闲时间执行，也就是说，尽可能早得执行。它在&quot;任务队列&quot;的尾部添加一个事件，因此要等到同步任务和&quot;任务队列&quot;现有的事件都处理完，才会得到执行。</p> <blockquote><p>同步代码转异步代码，为了手动调配优先级不高的代码靠后执行。</p></blockquote> <h3 id="最小延时和最大延时"><a href="#最小延时和最大延时" class="header-anchor">#</a> 最小延时和最大延时</h3> <p>最小：在浏览器中，setTimeout()/setInterval() 的每调用一次定时器的最小间隔是4ms<br>
最大：包括 IE, Chrome, Safari, Firefox 在内的浏览器其内部以32位带符号整数存储延时。这就会导致如果一个延时(delay)大于 2147483647 毫秒 (大约24.8 天)时就会溢出，导致定时器将会被立即执行。</p> <h2 id="异步"><a href="#异步" class="header-anchor">#</a> 异步</h2> <h3 id="前端什么时候需要使用异步"><a href="#前端什么时候需要使用异步" class="header-anchor">#</a> 前端什么时候需要使用异步？</h3> <ul><li>定时任务：<code>setTimeout</code>,<code>setInverval</code></li> <li>网络请求：ajax请求，动态<code>&lt;img&gt;</code>加载</li> <li>事件绑定</li></ul> <h3 id="同步和异步的区别"><a href="#同步和异步的区别" class="header-anchor">#</a> 同步和异步的区别</h3> <ul><li>同步会阻塞代码执行，异步不会</li> <li><code>alert</code>是同步，<code>setTimeout</code>是异步</li></ul> <h2 id="js作用域"><a href="#js作用域" class="header-anchor">#</a> JS作用域</h2> <p>（js没有块级作用域）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//1</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//1</span>
</code></pre></div><p>JavaScript 变量生命周期在它声明时初始化,局部变量在函数执行完毕后销毁,全局变量在页面关闭后销毁。<br>
作用域最大的用处就是隔离变量，不同作用域下同名变量不会有冲突。</p> <p><b>变量取值：到创建 这个变量 的函数的作用域中取值</b></p> <p><img src="data:image/png;base64,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" alt="作用域"></p> <h3 id="全局作用域"><a href="#全局作用域" class="header-anchor">#</a> 全局作用域</h3> <p>代码在程序的任何地方都能被访问，不使用var定义的变量拥有全局作用域，window 对象的内置属性都拥有全局作用域，没有声明在任何函数内部的函数拥有全局作用域。</p> <h3 id="局部作用域"><a href="#局部作用域" class="header-anchor">#</a> 局部作用域</h3> <p>只能在函数内部访问，使用var在函数内部定义的变量，和使用function在函数内部声明的函数，拥有局部作用域。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错，c变量未定义 </span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token parameter">flag</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        s <span class="token operator">=</span> <span class="token string">&quot;ifscope&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
<span class="token punctuation">}</span>

<span class="token function">t</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ifscope</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ifscope</span>
</code></pre></div><p>Js中没有用var声明的变量都是全局变量，而且是顶层对象的属性。</p> <h3 id="作用域链"><a href="#作用域链" class="header-anchor">#</a> 作用域链</h3> <p>一般情况下，变量取值到 创建 这个变量 的函数的作用域中取值。但是如果在当前作用域中没有查到值，就会向上级作用域去查，直到查到全局作用域，这么一个查找过程形成的链条就叫做作用域链。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//10</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 10</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>

<span class="token function">show</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="作用域链"></p> <p>Function对象有一个仅供 JavaScript 引擎存取的内部属性。<br>
这个属性就是[[Scope]]。[[Scope]]包含了一个函数被创建的作用域中对象的集合。这个集合被称为函数的作用域链，它决定了哪些数据能被函数访问。<br>
关于作用域链，局部作用域可以访问到全局作用域中的变量和方法，而全局作用域不能访问局部作用域的变量和方法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 0</span>
<span class="token punctuation">}</span>

<span class="token comment">// 全局作用域并不能访问 fn 函数中定义的 b 变量</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>当函数fn()执行时，会创建一个名为执行环境的独一无二的内部对象。函数每执行一次，都会创建一个执行环境。当函数执行完毕，执行环境就会被销毁。<br>
每个执行环境都有自己的作用域链，用来解析标识符。当执行环境被创建时，它的作用域就会初始化为当前运行函数的[[Scope]]属性中的对象。<br>
执行环境创建完成之后，就会生成一个<code>活动对象</code>，这个对象包含了当前函数的所有<code>局部变量</code>，<code>命名参数</code>，<code>参数集合</code>和<code>this</code>。此对象会被推入作用域链的最前端。<br>
当执行环境被销毁后，<code>活动对象</code>也会随之被销毁。</p> <p>当fn()时，会使用到a变量，这时候就会搜索执行环境的作用域链，找到就使用，找不到就会到作用域链的下一个对象找，如果搜寻到最后，还没找到，那就认定这个变量是未定义的。</p> <p><img src="/daydayup/assets/img/js_6.65aaed2c.png" alt="作用域链实例"></p> <h3 id="this的绑定"><a href="#this的绑定" class="header-anchor">#</a> this的绑定</h3> <p>this的绑定有以下几种可能：</p> <ol><li>默认绑定，默认指向全局作用域</li> <li>隐式绑定，普通函数this指向函数调用的执行环境，箭头函数指向函数声明所处的执行环境</li> <li>显式绑定，bind、call、apply</li> <li>new绑定，this指向new出来的对象</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/25/2022, 3:29:48 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/daydayup/assets/js/app.0af44880.js" defer></script><script src="/daydayup/assets/js/2.64dcb2fe.js" defer></script><script src="/daydayup/assets/js/1.aa6d85d5.js" defer></script><script src="/daydayup/assets/js/16.46fd8142.js" defer></script>
  </body>
</html>
